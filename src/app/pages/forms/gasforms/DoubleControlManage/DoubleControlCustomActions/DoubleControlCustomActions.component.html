<button
  nbTooltip="چاپ"
  nbTooltipPlacement="top"
  size="tiny"
  class="mb-2 mr-1"
  nbButton
  status="secondary"
  (click)="onPrintContract(rData.id)"
>
  <nb-icon
    [options]="{ animation: { type: 'zoom' } }"
    class="icon-button"
    icon="printer-outline"
  >
  </nb-icon>
</button>

<!-- <button
  nbTooltip="حذف"
  nbTooltipPlacement="top"
  size="tiny"
  class="mb-2 mr-1"
  nbButton
  status="danger"
  *appHasRole="['Admin']"
>
  <nb-icon
    [options]="{ animation: { type: 'zoom' } }"
    class="icon-button"
    icon="close-outline"
  >
  </nb-icon>
</button>

<button
  nbTooltip="ویرایش"
  nbTooltipPlacement="top"
  *appHasRole="['Admin', 'Association']"
  [disabled]="rData.hasUnit"
  [ngStyle]="{ cursor: rData.hasUnit ? 'not-allowed' : 'pointer' }"
  size="tiny"
  class="mb-2 mr-1"
  nbButton
  status="warning"
>
  <nb-icon
    [options]="{ animation: { type: 'zoom' } }"
    class="icon-button"
    icon="edit-2-outline"
  >
  </nb-icon>
</button>

<button
  nbTooltip="مشاهده جزئیات"
  nbTooltipPlacement="top"
  size="tiny"
  class="mb-2 mr-1"
  nbButton
  status="info"
>
  <nb-icon
    [options]="{ animation: { type: 'zoom' } }"
    class="alert-circle-outline"
    icon="eye-outline"
  >
  </nb-icon>
</button> -->

<!-- *appHasRole="['Admin', 'Executor', 'Owner', 'Engineer', 'GasEmployee']" -->
<nb-select
  placeholder="انتخاب عملیات"
  status="success"
>
<!-- *ngIf="rData.nextStateType.includes('ResultOfReform')" -->
  <nb-option value="0" >
    <button
      fullWidth
      nbButton
      status="primary"
      *appHasRole="['Admin', 'Executor', 'Owner', 'Engineer', 'GasEmployee']"
      (click)="onHistory(rData.id)"
    >
      مشاهده سوابق
    </button>
  </nb-option>

  <nb-option
    *ngIf="rData.nextStateType.includes('DoubleControlDefineObserver')"
  >
    <button
      fullWidth
      nbButton
      status="primary"
      *appHasRole="['Admin', 'GasEmployee']"
      (click)="manageRecordMapInformation(rData.id)"
    >
      تعیین ناظر
    </button>
  </nb-option>

  <!-- <nb-option
    value="0"
    *ngIf="rData.nextStateType.includes('DoubleControlDefineObserver')"
  >
    <button
      fullWidth
      nbButton
      status="primary"
      *appHasRole="['Admin', 'Executor', 'Owner', 'Engineer', 'GasEmployee']"
      (click)="manageRecordMapInformation(rData.id)"
    >
      تعیین ناظر
    </button>
  </nb-option> -->

  <nb-option
    value="0"
    *ngIf="rData.nextStateType.includes('DoubleControlResult')"
  >
    <button
      fullWidth
      nbButton
      status="primary"
      *appHasRole="['Admin', 'GasEmployee']"
      (click)="doubleControlResult(rData.id)"
    >
      نتیجه کنترل مضاعف
    </button>
  </nb-option>
  <nb-option
    value="0"
    *ngIf="rData.nextStateType.includes('DoubleControlEngineerReply')"
  >
    <button
      fullWidth
      nbButton
      status="primary"
      *appHasRole="['Admin', 'Engineer']"
      (click)="doubleControlResultShow(rData.id)"
    >
      پاسخ به نتیجه بازرسی
    </button>
  </nb-option>

  <nb-option
    value="0"
    *ngIf="rData.nextStateType.includes('DoubleControlResult')"
  >
    <button
      fullWidth
      nbButton
      status="primary"
      *appHasRole="['Admin', 'Engineer', 'GasEmployee']"
      (click)="onGasRequestDetail(rData.gasReqId)"
    >
      مشاهده جزئیات ملک
    </button>
  </nb-option>

  <nb-option value="0" *ngIf="rData.nextStateType.includes('ResultOfReform')">
    <button
      fullWidth
      nbButton
      status="primary"
      *appHasRole="['Admin', 'Engineer', 'GasEmployee']"
      (click)="onReformDoubleControlResult(rData.id)"
    >
      ثبت نتیجه اصلاحات
    </button>
  </nb-option>
  <!-- <nb-option value="0">
    <button
      *appHasRole="['Admin', 'Association']"
      fullWidth
      nbButton
      status="warning"
      (click)="
        onChangeExecutor(
          rData.id,
          'ChangeExecutor'
        )
      "
    >
      تعویض مجری
    </button>
  </nb-option> -->

  <!-- <div style="margin-bottom: 15px;float: left;">
    <a class="btn btn-primary btn-lg" style="color:#fff"
     [routerLink]="[ '/pages/forms/Contract' ]"
     *appHasRole="['Admin','Association']">
      <nb-icon
        [options]="{ animation: { type: 'pulse' } }"
        class="icon-button"
        icon="file-text-outline">
      </nb-icon>
      ثبت قراردادها</a>
  </div> -->

  <!-- <nb-option value="1">
    <button
      fullWidth
      nbButton
      status="primary"
      (click)="onRequestConsult(rData.id)"
    >
      درخواست مشاوره
    </button>
  </nb-option>
  <nb-option
    value="2"
    *ngIf="
      rData.nextStateType === 'AlamakRemoveRequest'" >
    <button
      fullWidth
      status="success"
      nbButton
      (click)="onAlamakDeletion(rData.id)"
    >
      درخواست جمع آوری علمک
    </button>
  </nb-option>
  <nb-option
    value="3"
    *ngIf="
    rData.nextStateType === 'AlamakDesignationRequest'" >

    <button
      fullWidth
      nbButton
      status="success"
      (click)="onAlamakDesignation(rData.id)"
    >
      درخواست تعیین علمک
    </button>
  </nb-option>

  <nb-option
    value="4"
    *ngIf="
    rData.nextStateType === 'FirstGroupAproveArchitectualAlbum'">
    <button
      fullWidth
      nbButton
      status="success"
      (click)="onArchitecturalAlbum(rData.id)"
    >
      تأیید آلبوم معماری مرحله اول
    </button>
  </nb-option>

  <nb-option
    value="5"
    *ngIf="
    rData.nextStateType === 'SecondGroupAproveArchitectualAlbum'">
    <button
      fullWidth
      nbButton
      status="success"
      (click)="onArchitecturalAlbum(rData.id)"
    >
      تأیید آلبوم معماری مرحله دوم
    </button>
  </nb-option>
  <nb-option value="6">
    <button
      fullWidth
      *ngIf="
      rData.nextStateType === 'letter'"
      nbButton
      status="info"
      (click)="onLetterShahrdari(rData.id)"
    >
      نامه شهرداری
    </button>
  </nb-option> -->
</nb-select>

<ng-template #ContractDetailTemplate let-data>
  <app-contractDetail [id]="rData.id"></app-contractDetail>
</ng-template>
<ng-template #DoubleControlHistory let-data>
  <app-DoubleControlHistory [id]="rData.id"></app-DoubleControlHistory>
</ng-template>
