<form [formGroup]="cgmForm" (ngSubmit)="onSubmit()">
  <div class="row">
    <div class="col-md-12">
      <nb-card class="inline-form-card">
        <nb-card-header>
          تعیین ناظر
          <!-- <span *ngIf="isEdit">
            شماره
            <span style="color:#3366ff">
              {{ contractNumber }}
            </span>
          </span> -->
        </nb-card-header>

        <nb-card class="inline-form-card">
          <nb-card-body>
            <div
              style="height: 295px"
              class="col-lg-12 col-md-12 col-sm-12 overflow-auto"
              *ngIf="
                requestStateType === 'CollectiveDefineObserverPreExecution'
              "
            ></div>
            <!-- <div
              class="row"

            >
              <div class="form-group col-md-5">
                <label>
                  شماره پرونده
                </label>
                <input
                  readonly
                  [value]="requestUnitInfo?.requestUnitId"
                  fullWidth
                  nbInput
                  type="number"
                />
              </div>

              <div class="col-md-2"></div>

              <div class="col-md-5">
                <table class="table table-striped">
                  <thead>
                    <tr>
                      <th>آدرس</th>
                      <th>زیر بنا</th>
                      <th>تعداد واحد</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>{{ requestUnitInfo?.address }}</td>
                      <td>{{ requestUnitInfo?.foundation }}</td>
                      <td>{{ requestUnitInfo?.floorNumber }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div> -->

            <div class="row">
              <div class="form-group col-md-5">
                <label>
                  مهندس
                </label>
                <input
                  formControlName="engineerSelect"
                  [typeahead]="engineersList"
                  typeaheadOptionField="itemForSearch"
                  (typeaheadOnSelect)="onSelect($event)"
                  [typeaheadOptionsLimit]="7"
                  [typeaheadMinLength]="0"
                  class="form-control"
                  style="width: 68%;"
                />
                <div
                  *ngFor="
                    let validation of INPUT_VALIDATION_MESSAGES.engineerSelect
                  "
                >
                  <span
                    class="text-danger"
                    *ngIf="
                      cgmForm.get('engineerSelect').hasError(validation.type) &&
                      (cgmForm.get('engineerSelect').dirty ||
                        cgmForm.get('engineerSelect').touched)
                    "
                  >
                    {{ validation.message }}</span
                  >
                </div>
              </div>

              <div class="col-md-2"></div>

              <div class="col-md-5">
                <div *ngFor="let a of selectedOption">
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th>نام و نام خانوادگی</th>
                        <th>کد مهندس</th>
                        <th>کد ملی مهندس</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>{{ a?.fullName }}</td>
                        <td>{{ a?.code }}</td>
                        <td>{{ a?.nationalCode }}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-5">
                <label class="d-block text-right mb-3"
                  >انتخاب تاریخ بازدید:</label
                >
                <dp-date-picker
                  name="cd"
                  fullWidth
                  id="cd"
                  nbInput
                  dir="rtl"
                  mode="day"
                  [config]="dateConfig"
                  theme="dp-material"
                  formControlName="forDate"
                  class="col-sm-9"
                ></dp-date-picker>
              </div>
            </div>
            <div class="row mt-2">
              <div class="col-lg-12 col-md-12 col-sm-12 ">
                <label for="cmt">توضیحات</label>
                <textarea
                  formControlName="description"
                  fullWidth
                  id="cmt"
                  name="cmt"
                  nbInput
                  rows="7"
                ></textarea>
              </div>
              <div
                *ngFor="let validation of INPUT_VALIDATION_MESSAGES.description"
              >
                <span
                  class="text-danger"
                  *ngIf="
                    cgmForm.get('description').hasError(validation.type) &&
                    (cgmForm.get('description').dirty ||
                      cgmForm.get('description').touched)
                  "
                >
                  {{ validation.message }}</span
                >
              </div>
            </div>

            <!-- <ng-container *ngIf="!isEdit; then btnRegister; else btnEdit"> -->
            <!-- <ng-container >
            </ng-container>
            <ng-template #btnRegister> -->
            <button
              type="submit"
              nbButton
              status="success"
              class="btn btn-success btn-block"
              [disabled]="!cgmForm.valid"
            >
              ثبت
            </button>
            <!-- </ng-template> -->
            <!-- <ng-template #btnEdit>
              <button
                type="submit"
                nbButton
                status="success"
                class="btn btn-success btn-block"
                [disabled]="!cgmForm.valid"
              >
                ویرایش
              </button>
            </ng-template> -->
          </nb-card-body>
        </nb-card>
      </nb-card>
    </div>
  </div>
</form>
