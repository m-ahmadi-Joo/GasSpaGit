<div class="row">
    <div class="col-sm-2">
      <button style="height: 35px;"   class="mx-1" nbTooltip="حذف" nbTooltipPlacement="top" size="tiny" nbButton status="danger"
        *appHasRole="['Admin', 'GasEmployee','AnalyzeEmployee']" (click)="onDelet(rData)" >
        <nb-icon [options]="{ animation: { type: 'zoom' } }" class="icon-button" icon="close-outline">
        </nb-icon>
      </button>
    </div>

    <div class="col-sm-10">
      <nb-select *appHasRole="['Admin', 'Executor', 'Owner', 'Engineer', 'GasEmployee','GasEmployeeExceptShiraz','AnalyzeEmployee', 'Shahrsazi']" placeholder="انتخاب عملیات"  status="success">
        <nb-option *ngIf="rData.isReferredTo === false">
          <!-- *ngIf="rData.isReferredTo === false" -->
          <button *appHasRole="['Admin', 'GasEmployee','AnalyzeEmployee']" fullWidth nbButton status="primary"
            (click)="onShowAvailableEngineers()">
            مهندسان در صف ارجاع
          </button>
        </nb-option>

        <nb-option *ngIf="rData.isReferredTo === false">
          <!-- *ngIf="rData.isReferredTo === false" -->
          <button *appHasRole="['Admin', 'GasEmployee','AnalyzeEmployee']" fullWidth nbButton status="primary"
            (click)="onExportAvailableEngineers()">
            اکسل  مهندسان در صف ارجاع
          </button>
        </nb-option>

        <!-- *ngIf="rData.isReferredTo === true" -->
        <nb-option>
          <button *appHasRole="['Admin', 'GasEmployee','AnalyzeEmployee']" fullWidth nbButton status="primary"
            (click)="onShowRefferingHistory(rData.id)">
            تاریخچه ارجاعات
          </button>
        </nb-option>

        <nb-option>
          <button *appHasRole="['Admin', 'GasEmployee','AnalyzeEmployee', 'Engineer','GasEmployeeExceptShiraz', 'Shahrsazi']" fullWidth nbButton status="primary"
            (click)="onShowUnits(rData.id)">
            درخواست ها
          </button>
        </nb-option>

        <nb-option *ngIf="rData.isReferredTo === true && rData.canReject === true">
          <button *appHasRole="['Admin', 'Engineer','AnalyzeEmployee']" fullWidth nbButton status="warning"
            (click)="onRejectInspection()">
            انصراف از لیست بازرسی
          </button>
        </nb-option>

        <nb-option *ngIf="rData.referralMethod === 0 && rData.isReferredTo === false">
<<<<<<< HEAD
          <button *appHasRole="['Admin','AnalyzeEmployee']" fullWidth nbButton status="warning" (click)="onProjectEngineer(rData.id)">
=======
          <button *appHasRole="['Admin', 'GasEmployee','AnalyzeEmployee']" fullWidth nbButton status="warning" (click)="onProjectEngineer(rData.id)">
>>>>>>> 2563e8dd099fd27182a7cd50d46cf7ae023f6fbe
            تعیین ناظر
          </button>
        </nb-option>

        <nb-option *ngIf= "rData.canReject === true">
<<<<<<< HEAD
          <button *appHasRole="['Admin','AnalyzeEmployee']" fullWidth nbButton status="primary" (click)="onSetting()">
=======
          <button *appHasRole="['Admin', 'GasEmployee','AnalyzeEmployee']" fullWidth nbButton status="primary" (click)="onSetting()">
>>>>>>> 2563e8dd099fd27182a7cd50d46cf7ae023f6fbe
            تنظیمات
          </button>
        </nb-option>

      </nb-select>
    </div>
</div>

<ng-template #analyzeSetting let-data>
  <ngx-AnalyzeListSetting [id]="rData.id"></ngx-AnalyzeListSetting>
</ng-template>
