<nb-card>
  <nb-card-header> افزودن تامین کننده فشار قوی </nb-card-header>
  <nb-card-body>
    <form (ngSubmit)="onSubmit()" [formGroup]="sendForm">
      <nb-card>
        <nb-card-body>
          <div class="row">
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label> کد ملی:</label>
              <input
                formControlName="nationalID"
                fullWidth
                nbInput
                (blur)="nationalIDIsExist()"
              />
              <div
                *ngFor="let validation of INPUT_VALIDATION_MESSAGES.nationalID"
              >
                <span
                  class="text-danger"
                  *ngIf="
                    sendForm.get('nationalID').hasError(validation.type) &&
                    (sendForm.get('nationalID').dirty ||
                      sendForm.get('nationalID').touched)
                  "
                  >{{ validation.message }}</span
                >
              </div>
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label>نام:</label>
              <input formControlName="firstName" fullWidth nbInput />
              <div
                *ngFor="let validation of INPUT_VALIDATION_MESSAGES.firstName"
              >
                <span
                  class="text-danger"
                  *ngIf="
                    sendForm.get('firstName').hasError(validation.type) &&
                    (sendForm.get('firstName').dirty ||
                      sendForm.get('firstName').touched)
                  "
                  >{{ validation.message }}</span
                >
              </div>
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label> نام خانوادگی:</label>
              <input formControlName="lastName" fullWidth nbInput />
              <div
                *ngFor="let validation of INPUT_VALIDATION_MESSAGES.lastName"
              >
                <span
                  class="text-danger"
                  *ngIf="
                    sendForm.get('lastName').hasError(validation.type) &&
                    (sendForm.get('lastName').dirty ||
                      sendForm.get('lastName').touched)
                  "
                  >{{ validation.message }}</span
                >
              </div>
            </div>

            <div class="col-sm-3 col-md-3 col-lg-3">
              <label>شماره موبایل:</label>
              <input formControlName="phoneNumber" fullWidth nbInput />
              <div
                *ngFor="let validation of INPUT_VALIDATION_MESSAGES.phoneNumber"
              >
                <span
                  class="text-danger"
                  *ngIf="
                    sendForm.get('phoneNumber').hasError(validation.type) &&
                    (sendForm.get('phoneNumber').dirty ||
                      sendForm.get('phoneNumber').touched)
                  "
                  >{{ validation.message }}</span
                >
              </div>
            </div>
          </div>
        </nb-card-body>
      </nb-card>
      <nb-card>
        <nb-card-body>
          <div class="row">
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label>نام پدر:</label>
              <input formControlName="fatherName" fullWidth nbInput />
              <div
                *ngFor="let validation of INPUT_VALIDATION_MESSAGES.fatherName"
              >
                <span
                  class="text-danger"
                  *ngIf="
                    sendForm.get('fatherName').hasError(validation.type) &&
                    (sendForm.get('fatherName').dirty ||
                      sendForm.get('fatherName').touched)
                  "
                  >{{ validation.message }}</span
                >
              </div>
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label>کد :</label>
              <input formControlName="code"  fullWidth nbInput />
              <div
                *ngFor="
                  let validation of INPUT_VALIDATION_MESSAGES.code
                "
              >
                <span
                  class="text-danger"
                  *ngIf="
                    sendForm.get('code').hasError(validation.type) &&
                    (sendForm.get('code').dirty ||
                      sendForm.get('code').touched)
                  "
                  >{{ validation.message }}</span
                >
              </div>
            </div>
          
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label>شماره ثبت:</label>
              <input
                formControlName="registerNumber"
                fullWidth
                nbInput
              />
              <div
                *ngFor="
                  let validation of INPUT_VALIDATION_MESSAGES.registerNumber
                "
              >
                <span
                  class="text-danger"
                  *ngIf="
                    sendForm
                      .get('registerNumber')
                      .hasError(validation.type) &&
                    (sendForm.get('registerNumber').dirty ||
                      sendForm.get('registerNumber').touched)
                  "
                  >{{ validation.message }}</span
                >
              </div>
            </div>
           
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label>نام مدیر:</label>
              <input formControlName="manager" fullWidth nbInput />
              <div
                *ngFor="let validation of INPUT_VALIDATION_MESSAGES.manager"
              >
                <span
                  class="text-danger"
                  *ngIf="
                    sendForm.get('manager').hasError(validation.type) &&
                    (sendForm.get('manager').dirty ||
                      sendForm.get('manager').touched)
                  "
                  >{{ validation.message }}</span
                >
              </div>
            </div>
           
          </div>
        </nb-card-body>
      </nb-card>
      <nb-card>
        <nb-card-body>
          <div class="row mt-4">
          
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label>شماره موبایل مدیر:</label>
              <input formControlName="agentMobile" fullWidth nbInput />
              <div
                *ngFor="let validation of INPUT_VALIDATION_MESSAGES.phoneNumber"
              >
                <span
                  class="text-danger"
                  *ngIf="
                    sendForm.get('agentMobile').hasError(validation.type) &&
                    (sendForm.get('agentMobile').dirty ||
                      sendForm.get('agentMobile').touched)
                  "
                  >{{ validation.message }}</span
                >
              </div>
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label>قابلیت ها :</label>
              <input formControlName="capability" fullWidth nbInput />
              <div
                *ngFor="let validation of INPUT_VALIDATION_MESSAGES.capability"
              >
                <span
                  class="text-danger"
                  *ngIf="
                    sendForm.get('capability').hasError(validation.type) &&
                    (sendForm.get('capability').dirty ||
                      sendForm.get('capability').touched)
                  "
                  >{{ validation.message }}</span
                >
              </div>
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label>Quality Agent :</label>
              <input formControlName="qualityAgent" fullWidth nbInput />
              <div *ngFor="let validation of INPUT_VALIDATION_MESSAGES.qualityAgent">
                <span
                  class="text-danger"
                  *ngIf="
                    sendForm.get('qualityAgent').hasError(validation.type) &&
                    (sendForm.get('qualityAgent').dirty ||
                      sendForm.get('qualityAgent').touched)
                  "
                  >{{ validation.message }}</span
                >
              </div>
            </div>
           
          </div>
        </nb-card-body>
      </nb-card>
      

      <nb-card>
        <nb-card-body>
          <div class="row" style="text-align: left; direction: ltr">
            <div class="col-sm-2 col-md-2 col-lg-2 p-1">
              <button
                class="btn"
                nbButton
                status="warning"
                style="width: 100%"
                type="button"
                [routerLink]="['/pages/forms/SuppliersList']"
              >
                بازگشت به لیست
              </button>
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2 p-1" *ngIf="!isEdit">
              <button
                class="btn"
                nbButton
                [nbSpinner]="loading"
                nbSpinnerStatus="info"
                nbSpinnerSize="large"
                status="success"
                style="width: 100%"
                type="submit"
                *ngIf="!isEdit"
                [disabled]="sendForm.invalid || loading"
              >
                ثبت
              </button>
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2 p-1" *ngIf="isEdit">
              <button
                class="btn"
                nbButton
                status="success"
                style="width: 100%"
                type="submit"
                *ngIf="isEdit"
                [disabled]="sendForm.invalid"
              >
                ویرایش
              </button>
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2 p-1" *ngIf="!isEdit">
              <button
                class="btn"
                nbButton
                status="primary"
                style="width: 100%"
                type="button"
                *appHasRole="['Admin', 'GasEmployee','AnalyzeEmployee']"
                (click)="sendForm.reset()"
              >
                جدید
              </button>
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2 p-1" *ngIf="isEdit">
              <button
                class="btn"
                nbButton
                status="primary"
                style="width: 100%"
                type="button"
                *appHasRole="['Admin', 'GasEmployee','AnalyzeEmployee', 'Association']"
                [routerLink]="['/pages/forms/CreateExecuter']"
              >
                جدید
              </button>
            </div>
          </div>
        </nb-card-body>
      </nb-card>
    </form>
  </nb-card-body>
</nb-card>
